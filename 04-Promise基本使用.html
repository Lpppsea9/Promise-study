<!DOCTYPE html>
<html>
<title></title>

<body>
    <script>
        // 1.创建一个新的promise对象
        const p = new Promise((resolve,reject) => {// 执行器函数
            // 2.执行异步操作任务
            setTimeout(() => {
                const time = Date.now();
                if(time %2 == 0) {
                    // 3.1 如果成功了，调用resolve(value)
                    resolve("成功的回调, time =" + time)
                } else {
                    // 3.2 如果失败了，调用reject(reason)
                    reject("失败的回调, time =" + time)
                }
            },1000)
        })

        // 指定回调函数的方式更加灵活，先1s得到结果，再过2s指定回调函数依然能得到结果
        setTimeout(() => {

            p.then(
                value => { // 接收得到成功的数据
                    console.log("onResolved",value)
                },
                reason => {
                    console.log("onRejected",reason)
                }
            )
        },2000)
        

    </script>
</body>

</html>